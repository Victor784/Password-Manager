@using ApiReturnTypes
@using System
@using PasswordManagerClient.Services
@inject PasswordApiClient passwordApi



<div>
    <div class="form-group">
        <label>Website:</label>
        <input type="text" @bind="website" />
    </div>
    <div class="form-group">
        <label>Email:</label>
        <input type="text" @bind="email" />
    </div>
    <div class="form-group">
        <label>Password:</label>
        <input type="text" @bind="password" />
    </div>
    <div class="form-group">
        <label>Expiration date:</label>
        <div class="label_radio_btn_element">
            <label>1 month</label>
            <input class = "add_pass_modal_radio_btn" type="radio" name="exp_date" value="1 month"  />
        </div>
        <div class="label_radio_btn_element">
            <label>2 months</label>
            <input class="add_pass_modal_radio_btn" type="radio" name="exp_date" value="2 months" />
        </div>
        <div class="label_radio_btn_element">
            <label>3 months</label>
            <input class="add_pass_modal_radio_btn"  type="radio" name="exp_date" value="3 months" />
        </div>
    </div>
    @*<button class="btn btn-primary"  @onclick="SubmitAddForm">Add</button>*@
</div>

@code {
    string PreferredPreference { get; set; } = "3 months";
    IEnumerable<string> expiration_date_months = new[] { "1 month", "2 months", "3 months" };
}
@code {
    private string website;
    private string email;
    private string password;
    private string exp_date = "3";

    public async void SubmitAddForm()
    {
        //Instead of 1 we should use the user_id 
        Password pass = new Password(1, website,  email, password, /*DateTime.Now.Date.Ticks*/ "1", /*DateTime.Now.Date.Ticks*/"1", exp_date);
        var response = await passwordApi.AddPasswordAsync(pass);
    }
}